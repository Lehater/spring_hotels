# ADR-0002: Идемпотентность по X-Request-Id

## Контекст

Повторы/ретраи/двукратная доставка не должны порождать дубликаты.

## Решение

Вводим обязательный `X-Request-Id` (UUID) для критических POST.

- Храним `request_id` с `UNIQUE` в BS/HMS.
- Повтор запроса возвращает прежний результат.

## Последствия

- Контроллеры валидируют наличие заголовка (400 при отсутствии).
- Логирование и трассировка опираются на `requestId`.
